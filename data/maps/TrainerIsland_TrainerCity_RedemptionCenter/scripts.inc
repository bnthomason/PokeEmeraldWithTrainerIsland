TrainerIsland_TrainerCity_RedemptionCenter_MapScripts::
	.byte 0

    @ Redemption Center prices
	.set TM02_POINTS,  250
	.set TM22_POINTS,  400
	.set TM23_POINTS,  300
	.set TM26_POINTS,  400
	.set TM30_POINTS,  250	
	.set TM36_POINTS,  300
	.set POKEMON_TIER_1_POINTS, 50

TrainerIsland_TrainerCity_RedemptionCenter_EventScript_PrizeClerkMons::
	lock
	faceplayer
	msgbox TrainerIsland_TrainerCity_RedemptionCenter_Text_WeExchangePointsForPrizes, MSGBOX_DEFAULT
	checkitem ITEM_POINT_TRACKER
	goto_if_eq VAR_RESULT, TRUE, TrainerIsland_TrainerCity_RedemptionCenter_EventScript_PrizeClerkMonsMessage
	goto TrainerIsland_TrainerCity_RedemptionCenter_EventScript_NeedPointTracker
	release
	end

TrainerIsland_TrainerCity_RedemptionCenter_EventScript_PrizeClerkMonsMessage::
	message TrainerIsland_TrainerCity_RedemptionCenter_Text_WhichPrize
	waitmessage
	setvar VAR_TEMP_1, 0
	showpointsbox 1, 1
	goto TrainerIsland_TrainerCity_RedemptionCenter_EventScript_ChoosePrizeMon

TrainerIsland_TrainerCity_RedemptionCenter_EventScript_ReturntoChoosePrizeMon::
	message TrainerIsland_TrainerCity_RedemptionCenter_Text_WhichPrize
	waitmessage
	goto TrainerIsland_TrainerCity_RedemptionCenter_EventScript_ChoosePrizeMon
	

TrainerIsland_TrainerCity_RedemptionCenter_EventScript_ChoosePrizeMon::
	multichoice 12, 0, MULTI_REDEMPTION_CENTER_POKEMON, FALSE
	switch VAR_RESULT
	case 1, TrainerIsland_TrainerCity_RedemptionCenter_EventScript_Feebas
	case 2, TrainerIsland_TrainerCity_RedemptionCenter_EventScript_Magikarp
	case 3, TrainerIsland_TrainerCity_RedemptionCenter_EventScript_EndPrizeExchange
	goto TrainerIsland_TrainerCity_RedemptionCenter_EventScript_EndPrizeExchange
	end

TrainerIsland_TrainerCity_RedemptionCenter_EventScript_EndPrizeExchange::
	message TrainerIsland_TrainerCity_RedemptionCenter_Text_OhIsThatSo
	hidepointsbox 0, 0
	release
	end
	
TrainerIsland_TrainerCity_RedemptionCenter_EventScript_Feebas::
	setvar VAR_TEMP_1, SPECIES_FEEBAS
	setvar VAR_TEMP_2, POKEMON_TIER_1_POINTS
	goto TrainerIsland_TrainerCity_RedemptionCenter_EventScript_ConfirmPrizeMon
	end

TrainerIsland_TrainerCity_RedemptionCenter_EventScript_Magikarp::
	setvar VAR_TEMP_1, SPECIES_MAGIKARP
	setvar VAR_TEMP_2, POKEMON_TIER_1_POINTS
	goto TrainerIsland_TrainerCity_RedemptionCenter_EventScript_ConfirmPrizeMon
	end

TrainerIsland_TrainerCity_RedemptionCenter_EventScript_ConfirmPrizeMon::
	bufferspeciesname STR_VAR_1, VAR_TEMP_1
	msgbox TrainerIsland_TrainerCity_RedemptionCenter_Text_YouWantPrize, MSGBOX_YESNO
	compare VAR_RESULT, NO
	goto_if_eq TrainerIsland_TrainerCity_RedemptionCenter_EventScript_EndPrizeExchange
	checkpoints VAR_RESULT
	compare VAR_RESULT, VAR_TEMP_2
	goto_if_lt TrainerIsland_TrainerCity_RedemptionCenter_EventScript_NotEnoughPoints
	switch VAR_TEMP_1
	case SPECIES_FEEBAS, TrainerIsland_TrainerCity_RedemptionCenter_EventScript_GiveFeebas
	case SPECIES_MAGIKARP,  TrainerIsland_TrainerCity_RedemptionCenter_EventScript_GiveMagikarp
	end

TrainerIsland_TrainerCity_RedemptionCenter_EventScript_GiveFeebas::
	givemon VAR_TEMP_1, 10, ITEM_NONE
	goto TrainerIsland_TrainerCity_RedemptionCenter_EventScript_CheckReceivedMon
	end

TrainerIsland_TrainerCity_RedemptionCenter_EventScript_GiveMagikarp::
	givemon VAR_TEMP_1, 10, ITEM_NONE
	goto TrainerIsland_TrainerCity_RedemptionCenter_EventScript_CheckReceivedMon
	end
	
TrainerIsland_TrainerCity_RedemptionCenter_EventScript_CheckReceivedMon:: 
	compare VAR_RESULT, 0
	goto_if_eq TrainerIsland_TrainerCity_RedemptionCenter_EventScript_ReceivedMonParty
	compare VAR_RESULT, 1
	goto_if_eq TrainerIsland_TrainerCity_RedemptionCenter_EventScript_ReceivedMonPC
	compare VAR_RESULT, 2
	goto_if_eq TrainerIsland_TrainerCity_RedemptionCenter_EventScript_PartyFull
	end

TrainerIsland_TrainerCity_RedemptionCenter_EventScript_PartyFull::
	textcolor 3
	msgbox gText_NoMoreRoomForPokemon, MSGBOX_AUTOCLOSE
	hidepointsbox 0, 0
	release
	end

TrainerIsland_TrainerCity_RedemptionCenter_EventScript_NicknamePartyMon::
	getpartysize
	subvar VAR_RESULT, 1
	copyvar VAR_0x8004, VAR_RESULT
	call Common_EventScript_NameReceivedPartyMon
	goto TrainerIsland_TrainerCity_RedemptionCenter_EventScript_EndPrizeExchange
	end

TrainerIsland_TrainerCity_RedemptionCenter_EventScript_NeedPointTracker::
	msgbox TrainerIsland_TrainerCity_RedemptionCenter_Text_PointTrackerRequired, MSGBOX_DEFAULT
	release
	end

TrainerIsland_TrainerCity_RedemptionCenter_EventScript_NotEnoughPoints::
	msgbox TrainerIsland_TrainerCity_RedemptionCenter_Text_NeedMorePoints, MSGBOX_DEFAULT
	goto TrainerIsland_TrainerCity_RedemptionCenter_EventScript_EndPrizeExchange
	end

TrainerIsland_TrainerCity_RedemptionCenter_EventScript_ReceivedMonParty:: 
	removepoints VAR_TEMP_2
	updatepointsbox 0, 5
	bufferspeciesname STR_VAR_1, VAR_TEMP_1
	playfanfare MUS_LEVEL_UP
	message gText_PlayerObtainedTheMon
	waitmessage
	waitfanfare
	msgbox gText_NicknameThisPokemon, MSGBOX_YESNO
	compare VAR_RESULT, YES
	goto_if_eq VAR_RESULT, YES, TrainerIsland_TrainerCity_RedemptionCenter_EventScript_NicknamePartyMon
	goto TrainerIsland_TrainerCity_RedemptionCenter_EventScript_ReturntoChoosePrizeMon
	end

TrainerIsland_TrainerCity_RedemptionCenter_EventScript_ReceivedMonPC:: 
	removepoints VAR_TEMP_2
	updatepointsbox 0, 5
	bufferspeciesname STR_VAR_1, VAR_TEMP_1
	playfanfare MUS_LEVEL_UP
	message gText_PlayerObtainedTheMon
	waitmessage
	waitfanfare
	msgbox gText_NicknameThisPokemon, MSGBOX_YESNO
	compare VAR_RESULT, NO
	goto_if_eq VAR_RESULT, NO, TrainerIsland_TrainerCity_RedemptionCenter_EventScript_TransferredToPC
	call Common_EventScript_NameReceivedBoxMon
	goto TrainerIsland_TrainerCity_RedemptionCenter_EventScript_TransferredToPC
	end
	
TrainerIsland_TrainerCity_RedemptionCenter_EventScript_TransferredToPC:: 
	call Common_EventScript_TransferredToPC
	goto TrainerIsland_TrainerCity_RedemptionCenter_EventScript_ReturntoChoosePrizeMon
	end
	
TrainerIsland_TrainerCity_RedemptionCenter_EventScript_ReturnToChooseTMPrize::
	message TrainerIsland_TrainerCity_RedemptionCenter_Text_WhichPrize
	waitmessage
	goto TrainerIsland_TrainerCity_RedemptionCenter_EventScript_ChoosePrizeTM

	
TrainerIsland_TrainerCity_RedemptionCenter_EventScript_PrizeClerkTMs:: 
	lock
	faceplayer
	checkitem ITEM_POINT_TRACKER
	goto_if_eq VAR_RESULT, FALSE, TrainerIsland_TrainerCity_RedemptionCenter_EventScript_NeedPointTracker
	showpointsbox 1, 1
	msgbox TrainerIsland_TrainerCity_RedemptionCenter_Text_WeExchangePointsForPrizes, MSGBOX_DEFAULT
	goto TrainerIsland_TrainerCity_RedemptionCenter_EventScript_ChoosePrizeTM
	end

TrainerIsland_TrainerCity_RedemptionCenter_EventScript_ChoosePrizeTM:: 
	message TrainerIsland_TrainerCity_RedemptionCenter_Text_WhichPrize
	waitmessage
	multichoice 11, 0, MULTI_REDEMPTION_CENTER_TMS, FALSE
	switch VAR_RESULT
	case 0, TrainerIsland_TrainerCity_RedemptionCenter_EventScript_TM02
	case 1, TrainerIsland_TrainerCity_RedemptionCenter_EventScript_TM22
	case 2, TrainerIsland_TrainerCity_RedemptionCenter_EventScript_TM23
	case 3, TrainerIsland_TrainerCity_RedemptionCenter_EventScript_TM26
	case 4, TrainerIsland_TrainerCity_RedemptionCenter_EventScript_TM36
	case 5, TrainerIsland_TrainerCity_RedemptionCenter_EventScript_CancelTMSelect
	goto TrainerIsland_TrainerCity_RedemptionCenter_EventScript_CancelTMSelect
	end

TrainerIsland_TrainerCity_RedemptionCenter_EventScript_TM02::
	setvar VAR_TEMP_1, 1
	bufferitemname STR_VAR_1, ITEM_TM02
	setvar VAR_0x8004, ITEM_TM02
	goto TrainerIsland_TrainerCity_RedemptionCenter_EventScript_ConfirmPrizeTM
	end

TrainerIsland_TrainerCity_RedemptionCenter_EventScript_TM22::
	setvar VAR_TEMP_1, 2
	bufferitemname STR_VAR_1, ITEM_TM22
	setvar VAR_0x8004, ITEM_TM22
	goto TrainerIsland_TrainerCity_RedemptionCenter_EventScript_ConfirmPrizeTM
	end

TrainerIsland_TrainerCity_RedemptionCenter_EventScript_TM23::
	setvar VAR_TEMP_1, 3
	bufferitemname STR_VAR_1, ITEM_TM23
	setvar VAR_0x8004, ITEM_TM23
	goto TrainerIsland_TrainerCity_RedemptionCenter_EventScript_ConfirmPrizeTM
	end

TrainerIsland_TrainerCity_RedemptionCenter_EventScript_TM26::
	setvar VAR_TEMP_1, 4
	bufferitemname STR_VAR_1, ITEM_TM26
	setvar VAR_0x8004, ITEM_TM26
	goto TrainerIsland_TrainerCity_RedemptionCenter_EventScript_ConfirmPrizeTM
	end
	
TrainerIsland_TrainerCity_RedemptionCenter_EventScript_TM36::
	setvar VAR_TEMP_1, 5
	bufferitemname STR_VAR_1, ITEM_TM36
	setvar VAR_0x8004, ITEM_TM36
	goto TrainerIsland_TrainerCity_RedemptionCenter_EventScript_ConfirmPrizeTM
	end
	
TrainerIsland_TrainerCity_RedemptionCenter_EventScript_ConfirmPrizeTM::
	special BufferTMHMMoveName
	msgbox TrainerIsland_TrainerCity_RedemptionCenter_Text_YouWantPrize, MSGBOX_YESNO
	compare VAR_RESULT, NO
	goto_if_eq TrainerIsland_TrainerCity_RedemptionCenter_EventScript_CancelTMSelect
	switch VAR_TEMP_1
		case 1, TrainerIsland_TrainerCity_RedemptionCenter_EventScript_BuyTM02
		case 2, TrainerIsland_TrainerCity_RedemptionCenter_EventScript_BuyTM22
		case 3, TrainerIsland_TrainerCity_RedemptionCenter_EventScript_BuyTM26
		case 4, TrainerIsland_TrainerCity_RedemptionCenter_EventScript_BuyTM23
		case 5, TrainerIsland_TrainerCity_RedemptionCenter_EventScript_BuyTM30
	end

TrainerIsland_TrainerCity_RedemptionCenter_EventScript_BuyTM02::
	checkpoints VAR_TEMP_2
	goto_if_lt VAR_TEMP_2, TM02_POINTS, TrainerIsland_TrainerCity_RedemptionCenter_Text_NeedMorePoints
	checkitemspace ITEM_TM02
	goto_if_eq VAR_RESULT, FALSE, TrainerIsland_TrainerCity_RedemptionCenter_EventScript_NoRoomForTM
	removepoints TM02_POINTS
	additem ITEM_TM02
	updatepointsbox 1, 1
	playse SE_SHOP
	msgbox TrainerIsland_TrainerCity_RedemptionCenter_Text_HereYouGo, MSGBOX_DEFAULT
	goto TrainerIsland_TrainerCity_RedemptionCenter_EventScript_ReturnToChooseTMPrize
	end


TrainerIsland_TrainerCity_RedemptionCenter_EventScript_BuyTM22::
	checkpoints VAR_TEMP_2
	goto_if_lt VAR_TEMP_2, TM22_POINTS, TrainerIsland_TrainerCity_RedemptionCenter_Text_NeedMorePoints
	checkitemspace ITEM_TM22
	goto_if_eq VAR_RESULT, FALSE, TrainerIsland_TrainerCity_RedemptionCenter_EventScript_NoRoomForTM
	removepoints TM22_POINTS
	additem ITEM_TM22
	updatepointsbox 1, 1
	playse SE_SHOP
	msgbox TrainerIsland_TrainerCity_RedemptionCenter_Text_HereYouGo, MSGBOX_DEFAULT
	goto TrainerIsland_TrainerCity_RedemptionCenter_EventScript_ReturnToChooseTMPrize
	end
	
TrainerIsland_TrainerCity_RedemptionCenter_EventScript_BuyTM23::
	checkpoints VAR_TEMP_2
	goto_if_lt VAR_TEMP_2, TM23_POINTS, TrainerIsland_TrainerCity_RedemptionCenter_Text_NeedMorePoints
	checkitemspace ITEM_TM23
	goto_if_eq VAR_RESULT, FALSE, TrainerIsland_TrainerCity_RedemptionCenter_EventScript_NoRoomForTM
	removepoints TM23_POINTS
	additem ITEM_TM23
	updatepointsbox 1, 1
	playse SE_SHOP
	msgbox TrainerIsland_TrainerCity_RedemptionCenter_Text_HereYouGo, MSGBOX_DEFAULT
	goto TrainerIsland_TrainerCity_RedemptionCenter_EventScript_ReturnToChooseTMPrize
	end

TrainerIsland_TrainerCity_RedemptionCenter_EventScript_BuyTM26::
	checkpoints VAR_TEMP_2
	goto_if_lt VAR_TEMP_2, TM26_POINTS, TrainerIsland_TrainerCity_RedemptionCenter_Text_NeedMorePoints
	checkitemspace ITEM_TM26
	goto_if_eq VAR_RESULT, FALSE, TrainerIsland_TrainerCity_RedemptionCenter_EventScript_NoRoomForTM
	removepoints TM26_POINTS
	additem ITEM_TM26
	updatepointsbox 1, 1
	playse SE_SHOP
	msgbox TrainerIsland_TrainerCity_RedemptionCenter_Text_HereYouGo, MSGBOX_DEFAULT
	goto TrainerIsland_TrainerCity_RedemptionCenter_EventScript_ReturnToChooseTMPrize
	end



TrainerIsland_TrainerCity_RedemptionCenter_EventScript_BuyTM30::
	checkpoints VAR_TEMP_2
	goto_if_lt VAR_TEMP_2, TM30_POINTS, TrainerIsland_TrainerCity_RedemptionCenter_Text_NeedMorePoints
	checkitemspace ITEM_TM30
	goto_if_eq VAR_RESULT, FALSE, TrainerIsland_TrainerCity_RedemptionCenter_EventScript_NoRoomForTM
	removepoints TM30_POINTS
	additem ITEM_TM30
	updatepointsbox 1, 1
	playse SE_SHOP
	msgbox TrainerIsland_TrainerCity_RedemptionCenter_Text_HereYouGo, MSGBOX_DEFAULT
	goto TrainerIsland_TrainerCity_RedemptionCenter_EventScript_ReturnToChooseTMPrize
	end



TrainerIsland_TrainerCity_RedemptionCenter_EventScript_BuyTM36::
	checkpoints VAR_TEMP_2
	goto_if_lt VAR_TEMP_2, TM36_POINTS, TrainerIsland_TrainerCity_RedemptionCenter_Text_NeedMorePoints
	checkitemspace ITEM_TM36
	goto_if_eq VAR_RESULT, FALSE, TrainerIsland_TrainerCity_RedemptionCenter_EventScript_NoRoomForTM
	removepoints TM36_POINTS
	additem ITEM_TM36
	updatepointsbox 1, 1
	playse SE_SHOP
	msgbox TrainerIsland_TrainerCity_RedemptionCenter_Text_HereYouGo, MSGBOX_DEFAULT
	goto TrainerIsland_TrainerCity_RedemptionCenter_EventScript_ReturnToChooseTMPrize
	end

TrainerIsland_TrainerCity_RedemptionCenter_EventScript_NoRoomForTM::
	call Common_EventScript_BagIsFull
	goto MauvilleCity_GameCorner_EventScript_ReturnToChooseTMPrize
	end

TrainerIsland_TrainerCity_RedemptionCenter_EventScript_CancelTMSelect::
	msgbox TrainerIsland_TrainerCity_RedemptionCenter_Text_OhIsThatSo, MSGBOX_DEFAULT
	hidecoinsbox 0, 0
	release
	end

	
TrainerIsland_TrainerCity_RedemptionCenter_Text_WhichPrize::
    .string "Which prize would you like?$"

TrainerIsland_TrainerCity_RedemptionCenter_Text_YouWantPrize::
    .string "So, you want the {STR_VAR_1}?$"
	

TrainerIsland_TrainerCity_RedemptionCenter_Text_NeedMorePoints::
    .string "Sorry, you'll need more POINTS\n"
    .string "than that.$"
	
TrainerIsland_TrainerCity_RedemptionCenter_Text_HereYouGo:
	.string "Here you go!$"

TrainerIsland_TrainerCity_RedemptionCenter_Text_NoMoreRoomForPokemon:
	.string "You're party and storage boxes\n"
	.string "are full! You have no more room\l"
	.string "for this pokemon.$"

TrainerIsland_TrainerCity_RedemptionCenter_Text_YouWantTM:
    .string "Okay, a TM of {STR_VAR_2}\n"
    .string "is what you want?$"

TrainerIsland_TrainerCity_RedemptionCenter_Text_PointTrackerRequired:
    .string "A POINT TRACKER is required…$"

TrainerIsland_TrainerCity_RedemptionCenter_Text_WeExchangePointsForPrizes:
    .string "We exchange your POINTS for prizes.$"
	
TrainerIsland_TrainerCity_RedemptionCenter_Text_OhIsThatSo:
	.string "Oh, is that so? \n"
	.string "You need to earn more POINTS before\l"
	.string "coming back here.$"
